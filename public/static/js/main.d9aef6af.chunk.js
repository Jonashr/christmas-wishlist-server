(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{70:function(e,a,t){e.exports=t(98)},98:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(8),c=t.n(o),i=t(17),l=t(26),s=t(10),m=t(134),u=t(137),p=t(133),h=t(12),d=t.n(h),g=t(20),E=t(60),f=t.n(E),y=t(65),b=t(129),v=function(e){var a=e.error;if(a)switch(a.type){case"required":return n.a.createElement(b.a,{variant:"subtitle2",color:"error",paragraph:!0},"Field is required");case"maxLength":return"wish"===a.ref.name?n.a.createElement(b.a,{className:"notification",color:"error",paragraph:!0},"Max length is 100 letters"):n.a.createElement(b.a,{className:"notification",color:"error"},"Max length is 20 letters");default:return null}return null},w=t(135),x=t(139),j=t(136),N=t(140),S=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(5)},submit:{marginTop:e.spacing(1)},form:{margin:"2rem 3rem"},formControl:{marginBottom:e.spacing(1)}}})),O=function(e){var a=e.setError,t=e.setSuccess,r=Object(y.a)(),o=r.register,c=r.handleSubmit,i=r.errors,l=S(),u=Object(s.f)(),p=function(){var e=Object(g.a)(d.a.mark((function e(r){var n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:r.username,wish:r.wish},e.prev=1,e.next=4,f.a.post("/wishlist",n);case 4:o=e.sent,console.log("Response",o),o&&(t(!0),u.push("/success")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response.data.error?400===e.t0.response.status?a("Unfortunately, santa will not grant the wishes for kids over 10 years. You are too old for writing wishlists to Santa."):404===e.t0.response.status?a("This user does not exist. Please make sure that the name has been spelled correctly and try again."):a("An error occured. Please try again later."):a("An error occured when trying to send the wishlist to Santa Claus. Please try again later"),u.push("/error");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement(m.a,{component:"main",maxWidth:"sm"},n.a.createElement(b.a,{variant:"h3",component:"h1",align:"center",color:"primary"},"A Letter to Santa"),n.a.createElement(w.a,{variant:"outlined",className:l.paper},n.a.createElement("form",{onSubmit:c(p),className:l.form},n.a.createElement(b.a,{variant:"subtitle1",component:"h2"},"Merry christmas! What do you wish for? Please write down your wish and let santa know what you want!"),n.a.createElement("div",null,n.a.createElement(x.a,{fullWidth:!0,className:l.formControl,variant:"outlined",name:"username",label:"Your username",placeholder:"charlie.brown",color:"secondary",id:"username",error:!!i.username,inputRef:o({required:!0,maxLength:20})})),n.a.createElement(v,{error:i.username}),n.a.createElement("div",null,n.a.createElement(x.a,{name:"wish",fullWidth:!0,variant:"outlined",label:"Your Wish",multiline:!0,rows:"6",className:l.formControl,id:"wish",error:!!i.wish,placeholder:"World Peace, Corona Virus Vaccine, Playstation 5",color:"secondary",inputRef:o({required:!0,maxLength:100})})),n.a.createElement(v,{error:i.wish}),n.a.createElement(j.a,{container:!0,justify:"center"},n.a.createElement(N.a,{className:l.submit,id:"wishSubmit",type:"submit",variant:"contained",color:"primary"},"Send your letter")))))},W=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(6),padding:"2rem 3rem"},container:{paddingTop:e.spacing(6)}}})),k=function(e){var a=e.error,t=W();return a?n.a.createElement(m.a,{maxWidth:"sm",variant:"outlined",className:t.container},n.a.createElement("div",null,n.a.createElement(w.a,{className:t.paper},n.a.createElement(b.a,{variant:"h4",component:"h1",align:"center",color:"primary",gutterBottom:!0},"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002"),n.a.createElement(b.a,{paragraph:!0},a),n.a.createElement(j.a,{container:!0,justify:"center"},n.a.createElement(N.a,{id:"returnHome",variant:"contained",component:l.b,to:"/",color:"primary",align:"center"},"Return to Wishlist"))))):null},T=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(6),padding:"2rem 3rem"},container:{paddingTop:e.spacing(6)}}})),P=function(){var e=T();return n.a.createElement(m.a,{maxWidth:"sm",className:e.container},n.a.createElement("div",null,n.a.createElement(w.a,{className:e.paper},n.a.createElement(b.a,{variant:"h4",component:"h1",align:"center",color:"primary",gutterBottom:!0},"Santa has received your wish\uff01"),n.a.createElement(b.a,{paragraph:!0,align:"center"},"If you have been a good kid this year..."),n.a.createElement(b.a,{paragraph:!0,align:"center"},"Your wish might just be granted!"),n.a.createElement(j.a,{container:!0,justify:"center"},n.a.createElement(N.a,{id:"returnHome",variant:"contained",component:l.b,to:"/",color:"primary",align:"center"},"Return to Wishlist")))))},C=Object(p.a)((function(e){return{main:{background:e.palette.secondary.main,width:"100vw",height:"100vh"}}})),R=function(){var e=C(),a=Object(r.useState)(null),t=Object(i.a)(a,2),o=t[0],c=t[1],p=Object(r.useState)(null),h=Object(i.a)(p,2),d=h[0],g=h[1];return n.a.createElement("div",{className:"App"},n.a.createElement(m.a,{component:"main",className:e.main,maxWidth:!1},n.a.createElement(u.a,null),n.a.createElement(l.a,null,n.a.createElement(s.b,{exact:!0,path:"/",render:function(){return n.a.createElement(O,{setError:c,setSuccess:g})}}),n.a.createElement(s.b,{exact:!0,path:"/error",render:function(){return null!==o?n.a.createElement(k,{error:o}):n.a.createElement(s.a,{to:"/"})}}),n.a.createElement(s.b,{exact:!0,path:"/success",render:function(){return null!==d?n.a.createElement(P,null):n.a.createElement(s.a,{to:"/"})}}))))},q=t(64),A=t(138),B=t(44),L=t(45),M=Object(q.a)({palette:{primary:{main:B.a[500]},secondary:{main:L.a[500]}}});c.a.render(n.a.createElement(A.a,{theme:M},n.a.createElement(n.a.StrictMode,null,n.a.createElement(R,null))),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.d9aef6af.chunk.js.map